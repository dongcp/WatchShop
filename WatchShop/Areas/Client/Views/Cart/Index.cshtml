@model IEnumerable<WatchShop.Areas.Client.Models.CartItem>
@using Models.DAO;

@{
    ViewBag.Title = "Index";
    Layout = "~/Areas/Client/Views/Shared/_ClientLayout.cshtml";
}

@section Header{
    <link href="~/Assets/Admin/dist/css/sb-admin-2.css" rel="stylesheet" />
    <script src="~/Assets/Admin/dist/js/sb-admin-2.js"></script>
    <script src="~/Assets/Client/js/cart.controller.js"></script>
}

<table class="table table-striped table-bordered table-hover">
    <tr>
        <th>
            #
        </th>
        <th>
            Tên sản phẩm
        </th>
        <th>Ảnh sản phẩm</th>
        <th>
            Số lượng
        </th>
        <th>
            Giá bán
        </th>
        <th>
            Tổng giá
        </th>
        <th></th>
    </tr>
    @{int count = 1;}
    @foreach (var item in Model)
    {
        <tr>
            <td>
                @count
            </td>
            <td>
                @item.Product.Name
            </td>
            <td>
                <img src="@(WatchShop.Common.Constants.IMAGE_PATH + item.Product.Image)" width="100" />
            </td>
            <td>
                <input type="text" class="quantity" data-id="@item.Product.Id" data-bind="@item.Product.Price" value="@item.Quantity" />
            </td>
            <td>
                @item.Product.Price.GetValueOrDefault(0)
            </td>
            <td>
                <p id="@(item.Product.Id+"-total-cost")">@(item.Product.Price.GetValueOrDefault(0) * item.Quantity)</p>
            </td>
            <td>
                <a href="@Url.Action("RemoveItem", "Cart", new { productId = item.Product.Id })"><i class="fa fa-times" aria-hidden="true"></i></a>
            </td>
        </tr>
        count++;
    }
</table>

<button type="button" class="btn btn-outline btn-primary" id="button-continue-shopping">Tiếp tục mua hàng</button>
<button type="button" class="btn btn-outline btn-primary" id="button-update-cart">Cập nhật</button>
<button type="button" class="btn btn-outline btn-primary" id="button-delete-cart">Xóa giỏ hàng</button>

